{"version":3,"file":"editword.min.js","sources":["../src/editword.js"],"sourcesContent":["import $ from \"jquery\";\nimport ajax from \"core/ajax\";\nimport notification from \"core/notification\";\nimport ModalFactory from \"core/modal_factory\";\nimport str from \"core/str\";\n\nexport const init = () => {\n    $.mod_wordcloud_update_entry = function (aid, wordid) {\n        var wcword = document.getElementById(\"mod-wordcloud-word\" + wordid).value;\n        var wccount = document.getElementById(\"mod-wordcloud-count\" + wordid).value;\n\n        ajax.call([{\n            methodname: 'mod_wordcloud_update_entry',\n            args: {aid: aid, wordid: wordid, newword: wcword, newcount: wccount},\n            done: function (returnval) {\n                if (!returnval.success) {\n                    ModalFactory.create({\n                        type: ModalFactory.types.CANCEL,\n                        title: str.get_string('warning', 'mod_wordcloud'),\n                        body: returnval.warnings[0].message,\n                    }).then(function (modal) {\n                        modal.show();\n                    });\n                } else {\n                    var icon = document.getElementById(\"mod-wordcloud-fade-success\" + wordid);\n                    icon.classList.add(\"fade\");\n                    setTimeout(function() {\n                        icon.classList.remove(\"fade\");\n                    }, 4000);\n                }\n            },\n            fail: notification.exception\n        }]);\n    };\n};"],"names":["mod_wordcloud_update_entry","aid","wordid","wcword","document","getElementById","value","wccount","call","methodname","args","newword","newcount","done","returnval","success","icon","classList","add","setTimeout","remove","create","type","ModalFactory","types","CANCEL","title","str","get_string","body","warnings","message","then","modal","show","fail","notification","exception"],"mappings":"8jBAMoB,qBACdA,2BAA6B,SAAUC,IAAKC,YACtCC,OAASC,SAASC,eAAe,qBAAuBH,QAAQI,MAChEC,QAAUH,SAASC,eAAe,sBAAwBH,QAAQI,oBAEjEE,KAAK,CAAC,CACPC,WAAY,6BACZC,KAAM,CAACT,IAAKA,IAAKC,OAAQA,OAAQS,QAASR,OAAQS,SAAUL,SAC5DM,KAAM,SAAUC,cACPA,UAAUC,QAQR,KACCC,KAAOZ,SAASC,eAAe,6BAA+BH,QAClEc,KAAKC,UAAUC,IAAI,QACnBC,YAAW,WACPH,KAAKC,UAAUG,OAAO,UACvB,iCAZUC,OAAO,CAChBC,KAAMC,uBAAaC,MAAMC,OACzBC,MAAOC,aAAIC,WAAW,UAAW,iBACjCC,KAAMf,UAAUgB,SAAS,GAAGC,UAC7BC,MAAK,SAAUC,OACdA,MAAMC,WAUlBC,KAAMC,sBAAaC"}