{"version":3,"sources":["../src/editword.js"],"names":["init","$","mod_wordcloud_update_entry","aid","wordid","wcword","document","getElementById","value","wccount","ajax","call","methodname","args","newword","newcount","done","returnval","success","ModalFactory","create","type","types","CANCEL","title","str","get_string","body","warnings","message","then","modal","show","icon","classList","add","setTimeout","remove","fail","notification","exception"],"mappings":"wNAAA,OACA,OACA,OACA,OACA,O,mDAEO,GAAMA,CAAAA,CAAI,CAAG,UAAM,CACtBC,UAAEC,0BAAF,CAA+B,SAAUC,CAAV,CAAeC,CAAf,CAAuB,IAC9CC,CAAAA,CAAM,CAAGC,QAAQ,CAACC,cAAT,CAAwB,qBAAuBH,CAA/C,EAAuDI,KADlB,CAE9CC,CAAO,CAAGH,QAAQ,CAACC,cAAT,CAAwB,sBAAwBH,CAAhD,EAAwDI,KAFpB,CAIlDE,UAAKC,IAAL,CAAU,CAAC,CACPC,UAAU,CAAE,4BADL,CAEPC,IAAI,CAAE,CAACV,GAAG,CAAEA,CAAN,CAAWC,MAAM,CAAEA,CAAnB,CAA2BU,OAAO,CAAET,CAApC,CAA4CU,QAAQ,CAAEN,CAAtD,CAFC,CAGPO,IAAI,CAAE,cAAUC,CAAV,CAAqB,CACvB,GAAI,CAACA,CAAS,CAACC,OAAf,CAAwB,CACpBC,UAAaC,MAAb,CAAoB,CAChBC,IAAI,CAAEF,UAAaG,KAAb,CAAmBC,MADT,CAEhBC,KAAK,CAAEC,UAAIC,UAAJ,CAAe,SAAf,CAA0B,eAA1B,CAFS,CAGhBC,IAAI,CAAEV,CAAS,CAACW,QAAV,CAAmB,CAAnB,EAAsBC,OAHZ,CAApB,EAIGC,IAJH,CAIQ,SAAUC,CAAV,CAAiB,CACrBA,CAAK,CAACC,IAAN,EACH,CAND,CAOH,CARD,IAQO,CACH,GAAIC,CAAAA,CAAI,CAAG3B,QAAQ,CAACC,cAAT,CAAwB,6BAA+BH,CAAvD,CAAX,CACA6B,CAAI,CAACC,SAAL,CAAeC,GAAf,CAAmB,MAAnB,EACAC,UAAU,CAAC,UAAW,CAClBH,CAAI,CAACC,SAAL,CAAeG,MAAf,CAAsB,MAAtB,CACH,CAFS,CAEP,GAFO,CAGb,CACJ,CAnBM,CAoBPC,IAAI,CAAEC,UAAaC,SApBZ,CAAD,CAAV,CAsBH,CACJ,CA5BM,C","sourcesContent":["import $ from \"jquery\";\nimport ajax from \"core/ajax\";\nimport notification from \"core/notification\";\nimport ModalFactory from \"core/modal_factory\";\nimport str from \"core/str\";\n\nexport const init = () => {\n    $.mod_wordcloud_update_entry = function (aid, wordid) {\n        var wcword = document.getElementById(\"mod-wordcloud-word\" + wordid).value;\n        var wccount = document.getElementById(\"mod-wordcloud-count\" + wordid).value;\n\n        ajax.call([{\n            methodname: 'mod_wordcloud_update_entry',\n            args: {aid: aid, wordid: wordid, newword: wcword, newcount: wccount},\n            done: function (returnval) {\n                if (!returnval.success) {\n                    ModalFactory.create({\n                        type: ModalFactory.types.CANCEL,\n                        title: str.get_string('warning', 'mod_wordcloud'),\n                        body: returnval.warnings[0].message,\n                    }).then(function (modal) {\n                        modal.show();\n                    });\n                } else {\n                    var icon = document.getElementById(\"mod-wordcloud-fade-success\" + wordid);\n                    icon.classList.add(\"fade\");\n                    setTimeout(function() {\n                        icon.classList.remove(\"fade\");\n                    }, 4000);\n                }\n            },\n            fail: notification.exception\n        }]);\n    };\n};"],"file":"editword.min.js"}