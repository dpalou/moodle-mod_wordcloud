{"version":3,"sources":["../src/exportpng.js"],"names":["init","$","mod_wordcloud_pic","wc_content","document","getElementById","url","scrollX","scrollY","window","height","clientHeight","then","canvas","toBlob","blob","URL","createObjectURL","downloads","download"],"mappings":"oLAAA,OAEA,O,mDAEO,GAAMA,CAAAA,CAAI,CAAG,UAAM,CACtBC,UAAEC,iBAAF,CAAsB,UAAY,IAC1BC,CAAAA,CAAU,CAAGC,QAAQ,CAACC,cAAT,CAAwB,uBAAxB,CADa,CAE1BC,CAF0B,CAG9B,cAAYH,CAAZ,CAAwB,CACpBI,OAAO,CAAE,CADW,CAEpBC,OAAO,CAAE,CAACC,MAAM,CAACD,OAAR,CAAkB,EAFP,CAGpBE,MAAM,CAAEP,CAAU,CAACQ,YAAX,CAA0B,EAHd,CAAxB,EAIGC,IAJH,CAIQ,SAAAC,CAAM,CAAI,CAEdA,CAAM,CAACC,MAAP,CAAc,SAASC,CAAT,CAAe,CACzBT,CAAG,CAAGG,MAAM,CAACO,GAAP,CAAWC,eAAX,CAA2BF,CAA3B,CAAN,CACAN,MAAM,CAACS,SAAP,CAAiBC,QAAjB,CAA0B,CACtB,IAAOb,CADe,CAEtB,SAAY,UAFU,CAA1B,CAKH,CAPD,CAUH,CAhBD,CAiBH,CACJ,CAtBM,C","sourcesContent":["import html2canvas from \"lib/html2canvas/html2canvas.js\";\n//import saveAs from \"mod_wordcloud/filesaver\";\nimport $ from \"jquery\";\n\nexport const init = () => {\n    $.mod_wordcloud_pic = function () {\n        var wc_content = document.getElementById(\"mod-wordcloud-content\");\n        var url;\n        html2canvas(wc_content, {\n            scrollX: 0,\n            scrollY: -window.scrollY + 10,\n            height: wc_content.clientHeight + 20\n        }).then(canvas => {\n            //var imgData = canvas.toDataURL('image/png');\n            canvas.toBlob(function(blob) {\n                url = window.URL.createObjectURL(blob);\n                window.downloads.download({\n                    'url': url,\n                    'filename': 'file.png',\n                });\n                //saveAs(blob, \"pretty_image.png\");\n            });\n            //window.URL.revokeObjectURL(url);\n            //window.open(imgData , \"_blank\");\n        });\n    };\n};"],"file":"exportpng.min.js"}