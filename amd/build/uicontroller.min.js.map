{"version":3,"file":"uicontroller.min.js","sources":["../src/uicontroller.js"],"sourcesContent":["const mod_wordcloud_fs_toggle = () => {\n    if (document.fullscreenElement === null) {\n        var fs_element = document.getElementById('mod-wordcloud-content');\n        fs_element.requestFullscreen();\n    } else {\n        document.exitFullscreen();\n    }\n};\n\nconst mod_wordcloud_hex_to_hsl = (color) => {\n    var [r, g, b] = color.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, (m, r, g, b) => '#' + r + r + g + g + b + b)\n        .substring(1).match(/.{2}/g).map(x => parseInt(x, 16));\n\n    r /= 255;\n    g /= 255;\n    b /= 255;\n\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if (max == min) {\n        h = s = 0;\n    } else {\n        var d = (max - min);\n        s = l >= 0.5 ? d / (2 - (max + min)) : d / (max + min);\n        switch (max) {\n            case r: h = ((g - b) / d + 0)*60; break;\n            case g: h = ((b - r) / d + 2)*60; break;\n            case b: h = ((r - g) / d + 4)*60; break;\n        }\n    }\n    return [Math.round(h), Math.round(s*100), Math.round(l*100)];\n};\n\nexport const init = colors => {\n    var stylerules = '';\n    var editCSS = document.createElement('style');\n\n    if (colors.length == 6) {\n        for (let i = colors.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [colors[i], colors[j]] = [colors[j], colors[i]];\n        }\n\n        for (let i = 1; i <= colors.length; i++) {\n            stylerules += '.path-mod-wordcloud .w' + i + ' {color: #' + colors[i - 1] + ';} \\n';\n        }\n    } else if (colors.length == 1) {\n        var [h, s, l] = mod_wordcloud_hex_to_hsl(colors[0]);\n        var nextstep = 10;\n\n        l = 80;\n\n        for (let i = 1; i < 7; i++) {\n            stylerules += '.path-mod-wordcloud .w' + i + ' {color: hsl(' + h + ', ' + s + '%, ' + l + '%);} \\n';\n            l = l - nextstep;\n        }\n    }\n\n    editCSS.innerHTML = stylerules;\n    document.head.appendChild(editCSS);\n\n    var fs_btn = document.getElementById('mod-wordcloud-fs-btn');\n\n    if (!document.fullscreenEnabled) {\n        fs_btn.style.display = \"none\";\n    } else {\n        fs_btn.addEventListener(\"click\", function () {\n            mod_wordcloud_fs_toggle();\n        });\n\n        document.onfullscreenchange = function () {\n            var fs_icon = document.getElementById('mod-wordcloud-fs-icon');\n            if (document.fullscreenElement === null) {\n                fs_icon.className = fs_icon.className.replace(/\\bfa-compress\\b/g, \"fa-expand\");\n            } else {\n                fs_icon.className = fs_icon.className.replace(/\\bfa-expand\\b/g, \"fa-compress\");\n            }\n        };\n    }\n};"],"names":["colors","stylerules","editCSS","document","createElement","length","i","j","Math","floor","random","color","replace","m","r","g","b","substring","match","map","x","parseInt","h","s","max","min","l","d","round","mod_wordcloud_hex_to_hsl","innerHTML","head","appendChild","fs_btn","getElementById","fullscreenEnabled","addEventListener","fullscreenElement","requestFullscreen","exitFullscreen","onfullscreenchange","fs_icon","className","style","display"],"mappings":"oxCAkCoB,SAAAA,YACZC,WAAa,GACbC,QAAUC,SAASC,cAAc,YAEhB,GAAjBJ,OAAOK,OAAa,KACf,IAAIC,EAAIN,OAAOK,OAAS,EAAGC,EAAI,EAAGA,IAAK,KAClCC,EAAIC,KAAKC,MAAMD,KAAKE,UAAYJ,EAAI,SACjB,CAACN,OAAOO,GAAIP,OAAOM,IAA3CN,OAAOM,WAAIN,OAAOO,eAGlB,IAAID,IAAI,EAAGA,KAAKN,OAAOK,OAAQC,MAChCL,YAAc,yBAA2BK,IAAI,aAAeN,OAAOM,IAAI,GAAK,aAE7E,GAAqB,GAAjBN,OAAOK,OAAa,2BAtCF,SAACM,iCACdA,MAAMC,QAAQ,oCAAoC,SAACC,EAAGC,EAAGC,EAAGC,SAAM,IAAMF,EAAIA,EAAIC,EAAIA,EAAIC,EAAIA,KACvGC,UAAU,GAAGC,MAAM,SAASC,KAAI,SAAAC,UAAKC,SAASD,EAAG,sEADjDN,4BAAGC,4BAAGC,4BAGXF,GAAK,IACLC,GAAK,IACLC,GAAK,QAGDM,EAAGC,EADHC,IAAMhB,KAAKgB,IAAIV,EAAGC,EAAGC,GAAIS,IAAMjB,KAAKiB,IAAIX,EAAGC,EAAGC,GACxCU,GAAKF,IAAMC,KAAO,KAExBD,KAAOC,IACPH,EAAIC,EAAI,MACL,KACCI,EAAKH,IAAMC,WACfF,EAAIG,GAAK,GAAMC,GAAK,GAAKH,IAAMC,MAAQE,GAAKH,IAAMC,KAC1CD,UACCV,EAAGQ,EAAsB,KAAhBP,EAAIC,GAAKW,EAAI,cACtBZ,EAAGO,EAAsB,KAAhBN,EAAIF,GAAKa,EAAI,cACtBX,EAAGM,EAAsB,KAAhBR,EAAIC,GAAKY,EAAI,UAG5B,CAACnB,KAAKoB,MAAMN,GAAId,KAAKoB,MAAQ,IAAFL,GAAQf,KAAKoB,MAAQ,IAAFF,IAiBjCG,CAAyB7B,OAAO,mEAA3CsB,4BAAGC,4BAAGG,4BAGXA,EAAI,OAEC,IAAIpB,IAAI,EAAGA,IAAI,EAAGA,MACnBL,YAAc,yBAA2BK,IAAI,gBAAkBgB,EAAI,KAAOC,EAAI,MAAQG,EAAI,UAC1FA,GANW,GAUnBxB,QAAQ4B,UAAY7B,WACpBE,SAAS4B,KAAKC,YAAY9B,aAEtB+B,OAAS9B,SAAS+B,eAAe,wBAEhC/B,SAASgC,mBAGVF,OAAOG,iBAAiB,SAAS,WAlEF,OAA/BjC,SAASkC,kBACQlC,SAAS+B,eAAe,yBAC9BI,oBAEXnC,SAASoC,oBAkETpC,SAASqC,mBAAqB,eACtBC,QAAUtC,SAAS+B,eAAe,yBACH,OAA/B/B,SAASkC,kBACTI,QAAQC,UAAYD,QAAQC,UAAU9B,QAAQ,mBAAoB,aAElE6B,QAAQC,UAAYD,QAAQC,UAAU9B,QAAQ,iBAAkB,iBAXxEqB,OAAOU,MAAMC,QAAU"}