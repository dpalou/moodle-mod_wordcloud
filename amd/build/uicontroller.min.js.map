{"version":3,"file":"uicontroller.min.js","sources":["../src/uicontroller.js"],"sourcesContent":["const mod_wordcloud_fs_toggle = () => {\n    if (document.fullscreenElement === null) {\n        var fs_element = document.getElementById('mod-wordcloud-content');\n        fs_element.requestFullscreen();\n    } else {\n        document.exitFullscreen();\n    }\n};\n\nconst mod_wordcloud_hex_to_hsl = (color) => {\n    var [r, g, b] = color.replace(/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i, (m, r, g, b) => '#' + r + r + g + g + b + b)\n        .substring(1).match(/.{2}/g).map(x => parseInt(x, 16));\n\n    r /= 255;\n    g /= 255;\n    b /= 255;\n\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if (max == min) {\n        h = s = 0;\n    } else {\n        var d = (max - min);\n        s = l >= 0.5 ? d / (2 - (max + min)) : d / (max + min);\n        switch (max) {\n            case r: h = ((g - b) / d + 0)*60; break;\n            case g: h = ((b - r) / d + 2)*60; break;\n            case b: h = ((r - g) / d + 4)*60; break;\n        }\n    }\n    return [Math.round(h), Math.round(s*100), Math.round(l*100)];\n};\n\nexport const init = colors => {\n    var stylerules = '';\n    var editCSS = document.createElement('style');\n\n    if (colors.length == 6) {\n        for (let i = colors.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [colors[i], colors[j]] = [colors[j], colors[i]];\n        }\n\n        for (let i = 1; i <= colors.length; i++) {\n            stylerules += '.path-mod-wordcloud .w' + i + ' {color: #' + colors[i - 1] + ';} \\n';\n        }\n    } else if (colors.length == 1) {\n        var [h, s, l] = mod_wordcloud_hex_to_hsl(colors[0]);\n        var nextstep = 8;\n\n        l = 30;\n\n        for (let i = 1; i < 7; i++) {\n            stylerules += '.path-mod-wordcloud .w' + i + ' {color: hsl(' + h + ', ' + s + '%, ' + l + '%);} \\n';\n            l = l + nextstep;\n            nextstep++;\n        }\n    }\n\n    editCSS.innerHTML = stylerules;\n    document.head.appendChild(editCSS);\n\n    var fs_btn = document.getElementById('mod-wordcloud-fs-btn');\n\n    if (!document.fullscreenEnabled) {\n        fs_btn.style.display = \"none\";\n    } else {\n        fs_btn.addEventListener(\"click\", function () {\n            mod_wordcloud_fs_toggle();\n        });\n\n        document.onfullscreenchange = function () {\n            var fs_icon = document.getElementById('mod-wordcloud-fs-icon');\n            if (document.fullscreenElement === null) {\n                fs_icon.className = fs_icon.className.replace(/\\bfa-compress\\b/g, \"fa-expand\");\n            } else {\n                fs_icon.className = fs_icon.className.replace(/\\bfa-expand\\b/g, \"fa-compress\");\n            }\n        };\n    }\n\n    var wb = document.getElementById('mod-wordcloud-div');\n    var divheight = wb.offsetHeight;\n    var newwidth = 0;\n    if (divheight < 300) {\n        newwidth = 60;\n    } else if (divheight < 500) {\n        newwidth = 70;\n    } else if (divheight < 700) {\n        newwidth = 80;\n    } else {\n        newwidth = 100;\n    }\n    if (window.innerWidth > 900) {\n        wb.style.width = newwidth + \"%\";\n    }\n    window.console.log(window.innerWidth);\n\n    var element = document.getElementById('mod-wordcloud-content');\n    element.style.visibility = \"visible\";\n};"],"names":["colors","stylerules","editCSS","document","createElement","length","i","j","Math","floor","random","h","s","l","color","r","g","b","replace","m","substring","match","map","x","parseInt","max","min","d","round","mod_wordcloud_hex_to_hsl","nextstep","innerHTML","head","appendChild","fs_btn","getElementById","fullscreenEnabled","addEventListener","fullscreenElement","requestFullscreen","exitFullscreen","onfullscreenchange","fs_icon","className","style","display","wb","divheight","offsetHeight","newwidth","window","innerWidth","width","console","log","visibility"],"mappings":"+JAkCoBA,aACZC,WAAa,GACbC,QAAUC,SAASC,cAAc,YAEhB,GAAjBJ,OAAOK,OAAa,KACf,IAAIC,EAAIN,OAAOK,OAAS,EAAGC,EAAI,EAAGA,IAAK,OAClCC,EAAIC,KAAKC,MAAMD,KAAKE,UAAYJ,EAAI,KACzCN,OAAOM,GAAIN,OAAOO,IAAM,CAACP,OAAOO,GAAIP,OAAOM,QAG3C,IAAIA,EAAI,EAAGA,GAAKN,OAAOK,OAAQC,IAChCL,YAAc,yBAA2BK,EAAI,aAAeN,OAAOM,EAAI,GAAK,aAE7E,GAAqB,GAAjBN,OAAOK,OAAa,KACtBM,EAAGC,EAAGC,GAvCeC,CAAAA,YACzBC,EAAGC,EAAGC,GAAKH,MAAMI,QAAQ,oCAAoC,CAACC,EAAGJ,EAAGC,EAAGC,IAAM,IAAMF,EAAIA,EAAIC,EAAIA,EAAIC,EAAIA,IACvGG,UAAU,GAAGC,MAAM,SAASC,KAAIC,GAAKC,SAASD,EAAG,MAEtDR,GAAK,IACLC,GAAK,IACLC,GAAK,QAGDN,EAAGC,EADHa,IAAMjB,KAAKiB,IAAIV,EAAGC,EAAGC,GAAIS,IAAMlB,KAAKkB,IAAIX,EAAGC,EAAGC,GACxCJ,GAAKY,IAAMC,KAAO,KAExBD,KAAOC,IACPf,EAAIC,EAAI,MACL,KACCe,EAAKF,IAAMC,WACfd,EAAIC,GAAK,GAAMc,GAAK,GAAKF,IAAMC,MAAQC,GAAKF,IAAMC,KAC1CD,UACCV,EAAGJ,EAAsB,KAAhBK,EAAIC,GAAKU,EAAI,cACtBX,EAAGL,EAAsB,KAAhBM,EAAIF,GAAKY,EAAI,cACtBV,EAAGN,EAAsB,KAAhBI,EAAIC,GAAKW,EAAI,UAG5B,CAACnB,KAAKoB,MAAMjB,GAAIH,KAAKoB,MAAQ,IAAFhB,GAAQJ,KAAKoB,MAAQ,IAAFf,KAiBjCgB,CAAyB7B,OAAO,IAC5C8B,SAAW,EAEfjB,EAAI,OAEC,IAAIP,EAAI,EAAGA,EAAI,EAAGA,IACnBL,YAAc,yBAA2BK,EAAI,gBAAkBK,EAAI,KAAOC,EAAI,MAAQC,EAAI,UAC1FA,GAAQiB,SACRA,WAIR5B,QAAQ6B,UAAY9B,WACpBE,SAAS6B,KAAKC,YAAY/B,aAEtBgC,OAAS/B,SAASgC,eAAe,wBAEhChC,SAASiC,mBAGVF,OAAOG,iBAAiB,SAAS,WAnEF,OAA/BlC,SAASmC,kBACQnC,SAASgC,eAAe,yBAC9BI,oBAEXpC,SAASqC,oBAmETrC,SAASsC,mBAAqB,eACtBC,QAAUvC,SAASgC,eAAe,yBACH,OAA/BhC,SAASmC,kBACTI,QAAQC,UAAYD,QAAQC,UAAUzB,QAAQ,mBAAoB,aAElEwB,QAAQC,UAAYD,QAAQC,UAAUzB,QAAQ,iBAAkB,iBAXxEgB,OAAOU,MAAMC,QAAU,WAgBvBC,GAAK3C,SAASgC,eAAe,qBAC7BY,UAAYD,GAAGE,aACfC,SAAW,EAEXA,SADAF,UAAY,IACD,GACJA,UAAY,IACR,GACJA,UAAY,IACR,GAEA,IAEXG,OAAOC,WAAa,MACpBL,GAAGF,MAAMQ,MAAQH,SAAW,KAEhCC,OAAOG,QAAQC,IAAIJ,OAAOC,YAEZhD,SAASgC,eAAe,yBAC9BS,MAAMW,WAAa"}