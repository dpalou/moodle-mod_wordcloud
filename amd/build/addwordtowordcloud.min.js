define("mod_wordcloud/addwordtowordcloud",["jquery","core/ajax","core/notification","core/modal_factory","core/str"],(function($,ajax,notification,ModalFactory,str){return{init:function(refreshtime,aid,timestamphtml){$("#mod-wordcloud-new-word").keypress((function(e){13===e.keyCode&&$("#mod-wordcloud-btn").click()})),$.mod_wordcloud_add_word=function(){var word=$("#mod-wordcloud-new-word").val();word.trim()&&ajax.call([{methodname:"mod_wordcloud_add_word",args:{aid:aid,word:word},done:function(returnval){if(returnval.cloudhtml){$("#mod-wordcloud-words-box").html(returnval.cloudhtml),$("#mod-wordcloud-new-word").val("");var wb=document.getElementById("mod-wordcloud-div"),divheight=wb.offsetHeight,newwidth=0;(newwidth=divheight<300?60:divheight<500?70:divheight<700?80:100)>parseInt(wb.style.width)&&window.innerWidth>900&&(wb.style.width=newwidth+"%")}else ModalFactory.create({type:ModalFactory.types.CANCEL,title:str.get_string("warning","mod_wordcloud"),body:returnval.warnings[0].message}).then((function(modal){modal.show()}))},fail:notification.exception}])},setInterval((function(){ajax.call([{methodname:"mod_wordcloud_get_words",args:{aid:aid,timestamphtml:timestamphtml},done:function(returnval){if(returnval.cloudhtml){$("#mod-wordcloud-words-box").html(returnval.cloudhtml),timestamphtml=returnval.timestamphtml;var wb=document.getElementById("mod-wordcloud-div"),divheight=wb.offsetHeight,newwidth=0;(newwidth=divheight<400?60:divheight<600?70:divheight<800?80:100)>parseInt(wb.style.width)&&window.innerWidth>900&&(wb.style.width=newwidth+"%")}},fail:notification.exception}])}),1e3*refreshtime)}}}));

//# sourceMappingURL=addwordtowordcloud.min.js.map